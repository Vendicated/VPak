Super small (~ 800 bytes minified) encoder in pure javascript
